1.  require('os') to figure out what platform
2.  require( 'open' ); open( 'www.google.com' ); to fire a browser

platform independent $HOME

function getUserHome() {
  return process.env.HOME || process.env.HOMEPATH || process.env.USERPROFILE;
}

In windows, $APPDATA is where applications store data.  Probably should:

  $LOCALAPPDATA || $APPDATA

On Mac: /Users/username/Library/Preferences/MyApp or /Users/username/Library/Application Support/MyApp.


var Uploader = require( './lib/uploader' );

q = async.queue( function( o, cb ) {
    o.upload( cb );
}, config.concurrency );

var file = new Upload( filename, user_uuid );
q.push( file, function( err, results ) {
    if ( err ) {
	// This is expected to be unrecoverable.  Retries have
	// already been attempted (? or we could simply do retries
	// here with a setTimeout and requeue ?)
	log.debug( err.message );
    }
    else {
	if ( file.cancelled ) 
	    file.delete().then( 
		function() {
		    log.info( 'deleted' );
		    // REMOVE FROM LIST
		},
		function(err) {
		    log.error( err.message );
		}
	    );
	else if ( file.done )
	    // REMOVE FROM LIST
    }
});

list.push( file );

** This list can be queried via web apis.
